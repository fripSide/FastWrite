
### 原始需求
开发一个类似于overleaf的写作工具，能支持用LLM 来帮助修改latex 论文，需要能针对一整节，单个段落，单句话进行修改。
界面分为两栏，左边栏是文件浏览器（25%），右边栏是论文编辑修改（75%）。

论文修改功能：
- 左边栏：有Import Paper (from git, from local dir)选项，然后是论文文件结构展示。下面像overleaf那样有个论文section展示。
- 右边栏界面：选择一个文件之后，最上面是选取的文件，支持按section查看，按段查看，按照单句查看。根据选择把选取的文件划分成latex section\段、句为最小单位（item），用块依次堆叠显示，选取用框框起来高亮。然后支持三种操作，dignose(诊断写作思路是否正确)\ refine（LLM润色，做结构表达改变，补充知识，纠正说法）\ QuickFix (快速检查基本语法、句法、拼写)
- 右边选中一个item之后，下面出现一个编辑框，可以在里面编辑。然后可启用和设置 system prompt，以及适用于当前文件的user prompt。这些可以作为选择框放在编辑框下面。
- 进行修改之后，下面可以出现版本idff界面解析修改本段，直到改到满意。


latex符号处理比较复杂，应该原原本本显示在html界面中。
编辑的时候应该始终保留这些符号。


注意：
这是一个只需要localhost运行的web项目，后期需要迁移到tarui。
所以web和后端跑在一个端口。并且web后端能直接访问本地文件夹。因此import paper不需要文件上传。

不重要备忘：
- 以单独latex文件为单位，对每次修改进行备份，能看历史版本修改，以及回退版本。
- prompt维护界面。

---

### 使用流程

1. **导入项目**：点击左侧边栏的 "Import Project" 按钮，选择本地 LaTeX 项目目录
2. **选择文件**：在文件树中点击 `.tex` 文件
3. **选择视图模式**：在顶部切换 Section / Paragraph / Sentence 视图
4. **编辑内容**：点击任意 item，底部会弹出 AI 编辑面板
5. **使用 AI**：选择 Diagnose / Refine / QuickFix 模式，配置 prompts，运行 AI
- Diagnose: 讨论论文结构
- Refine: 语言润色，可以调整结构，删除冗余，补充知识，纠正说法。实现论文写作质量的提升
- QuickFix: 语法检查，不改变意思，只修改语法、句法、拼写错误
6. **查看差异**：AI 返回结果后，查看词级别的 diff，选择 Accept 或 Reject


